doctype html
head
  title Confirm Your Email
  meta(name='viewport' content='width=device-width, initial-scale=1')
  link(rel='preconnect' href='https://unpkg.com')
  link(rel='stylesheet' href='https://unpkg.com/bootstrap@5.2.2/dist/css/bootstrap.css')
  link(rel='preconnect' href='https://fonts.googleapis.com')
  link(rel='preconnect' href='https://fonts.gstatic.com' crossorigin='')
  link(href='https://fonts.googleapis.com/css2?family=Open+Sans:wght@300:400&display=swap' rel='stylesheet')
  style.
    body {
      background-color: #f9f9f9;
      padding-right: 10px;
      padding-left: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      text-align: center;
    }
    h1 {
      font-size: 24px;
      margin: 25px 0px 0px 0px;
    }
    h2 {
      font-size: 16px;
    }
#container
  svg(xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='200px' height='200px' viewbox='0 0 100 100' preserveaspectratio='xMidYMid')
    circle(cx='50' cy='50' r='32' stroke-width='8' stroke='#420457' stroke-dasharray='50.26548245743669 50.26548245743669' fill='none' stroke-linecap='round')
      animatetransform(attributename='transform' type='rotate' dur='1s' repeatcount='indefinite' keytimes='0;1' values='0 50 50;360 50 50')
    circle(cx='50' cy='50' r='23' stroke-width='8' stroke='#5a3faa' stroke-dasharray='36.12831551628262 36.12831551628262' stroke-dashoffset='36.12831551628262' fill='none' stroke-linecap='round')
      animatetransform(attributename='transform' type='rotate' dur='1s' repeatcount='indefinite' keytimes='0;1' values='0 50 50;-360 50 50')
script.
  let token = window.location.pathname.split('/');
  token = token[token.length-1]
  fetch('http://localhost:3000/api/v1/user/confirm/email/' + token, {
    method: 'PUT'
  })
  .then(res => res.status)
  .then(res => {
    if(res === 200) {
      document.getElementById('container').innerHTML = '<svg width="150px" height="150px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><circle style="fill:#25AE88;" cx="25" cy="25" r="25"/><polyline style="fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;" points="38,15 22,33 12,25 "/></svg><h1>Email Confirmed</h1><h2>You can close this page now</h2>'
    } else {
      document.getElementById('container').innerHTML = '<svg width="150px" height="150px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><circle style="fill:#D75A4A;" cx="25" cy="25" r="25"/><polyline style="fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;" points="16,34 25,25 34,16 "/><polyline style="fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;" points="16,16 25,25 34,34 "/></svg><h1>An error ocourred!</h1><h2>Please try again later</h2>'
    }
  })