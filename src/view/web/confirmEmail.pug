doctype html
head
  title Confirm your email address
  meta(name='viewport' content='width=device-width, initial-scale=1')
  link(rel='preconnect' href='https://unpkg.com')
  link(rel='stylesheet' href='https://unpkg.com/bootstrap@5.2.2/dist/css/bootstrap.css')
  link(rel='preconnect' href='https://fonts.googleapis.com')
  link(rel='preconnect' href='https://fonts.gstatic.com' crossorigin='')
  link(href='https://fonts.googleapis.com/css2?family=Open+Sans:wght@300:400&family=Poppins:wght@300;500&display=swap' rel='stylesheet')
  style.
    body {
      background-color: #f9f9f9;
      padding-right: 10px;
      padding-left: 10px;
    }
    .content {
      max-width: 600px;
      width: 100%;
      height: 420px;
      margin-top: 60.5px;
      margin-bottom: 31px;
      text-align: center;
      padding: 100px 0px 0px;
    }
    h1 {
      padding-bottom: 5px;
      color: #000;
      font-family: Poppins,Helvetica,Arial,sans-serif;
      font-size: 28px;
      font-weight: 400;
      font-style: normal;
      letter-spacing: normal;
      line-height: 36px;
      text-transform: none;
      text-align: center;
    }
    h2 {
      margin-bottom: 30px;
      color: #999;
      font-family: Poppins,Helvetica,Arial,sans-serif;
      font-size: 16px;
      font-weight: 300;
      font-style: normal;
      letter-spacing: normal;
      line-height: 24px;
      text-transform: none;
      text-align: center;
    }
    p {
      font-size: 14px;
      margin: 0px 21px;
      color: #666;
      font-family: 'Open Sans',Helvetica,Arial,sans-serif;
      font-weight: 300;
      font-style: normal;
      letter-spacing: normal;
      line-height: 22px;
    }
    footer {
      max-width: 600px;
      width: 100%;
      height: 420px;
      padding-top: 50px;
      text-align: center;
    }
    small {
      color: #bbb;
      font-family: 'Open Sans',Helvetica,Arial,sans-serif;
      font-size: 12px;
      font-weight: 400;
      font-style: normal;
      letter-spacing: normal;
      line-height: 20px;
      text-transform: none;
      margin-bottom: 5px;
      display: block;
    }
    footer a {
      color: #bbbbbb;
    }
    a {
      color: #3f51b5;
    }
.d-flex.align-items-center.justify-content-center
  .content
.d-flex.align-items-center.justify-content-center
  footer
    small Powered by Julien.js | A lightweight Node.js scaffold
    small If you have any quetions please contact us 
      a(href="mailto:"+app.email, target="_blank") #{app.email}
      | .
    small
      a(href="#", target="_blank") Privacy Policy
script.
  let token = window.location.pathname.split('/');
  token = token[token.length-1];
  fetch('http://localhost:3000/api/v1/user/confirm/email/' + token, {
    method: 'PUT'
  })
  .then(res => res.status)
  .then(res => {
    if(res === 200) {
      document.getElementsByClassName('content')[0].innerHTML = '<h1>Success!</h1> <h2>Your email was confirmed</h2> <p>Your account is now active on our platform.</p><p>Click <a href="/">here</a> to signin in your account.</p>'
    } else {
      document.getElementsByClassName('content')[0].innerHTML = '<h1>An error has occurred</h1> <h2>Couldn\'t confirm your e-mail</h2> <p>Oops! It seems the confirmation token you are trying to access is invalid.</p><p>Click <a href="/">here</a> to go back.</p>'
    }
  })